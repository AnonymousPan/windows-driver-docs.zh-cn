---
description: USB 设备具有用于传输数据的终结点。
title: USB 终结点及其管道
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: ffddb1994b124bed84a8276af1dbb8600f48d716
ms.sourcegitcommit: 15caaf6d943135efcaf9975927ff3933957acd5d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/27/2020
ms.locfileid: "88969244"
---
# <a name="usb-endpoints-and-their-pipes"></a>USB 终结点及其管道


**摘要**

-   终结点是设备上的硬件;管道是主机端的软件。
-   未配置终结点;为传输配置了管道
-   主机在管道中发送或接收数据。

USB 设备具有用于传输数据的终结点。 在主机端，终结点由管道表示。 本主题区分这两个术语。

## <a name="usb-endpoint"></a>USB 终结点


*终结点*是 USB 设备上的缓冲区。 终结点是与硬件本身相关的术语，与主机操作系统无关。 宿主可以向该缓冲区发送数据，也可以从该缓冲区接收数据。 可以将终结点分为控制和数据终结点。

每个 USB 设备必须至少在地址0（称为默认终结点或 Endpoint0）处提供一个控制终结点。 此终结点是双向的。 也就是说，主机可以将数据发送到终结点，并在一次传输内接收数据。 控制传输的目的是使主机能够获取设备信息、配置设备或执行特定于设备的控制操作。

数据终结点是可选的，用于传输数据。 它们是单向的，具有类型 (控件、中断、大容量、同步) 和其他属性。 所有这些属性都在终结点描述符 (参阅标准 USB 描述符) 中进行了介绍。

在 USB 术语中，终结点的方向 (，并向其或从其传输) 基于该主机。 因此，在中，始终指从设备传输到主机，而 OUT 始终是指从主机传输到设备。 USB 设备还可以支持控制数据的双向传输。

设备上的终结点分为功能接口，一组接口组成设备配置。 有关详细信息，请参阅 USB 设备布局。

主机软件可以查看终结点信息，然后再配置设备或选择备用设置。 将循环访问所有接口，然后遍历每个接口的设置列表，并查看每个终结点的属性或设置中的整个终结点集。 查看终结点信息不会影响设备的配置状态。

## <a name="usb-pipes"></a>USB 管道


数据通过名为 *管道*的抽象在 usb 设备与 usb 主机之间传输。 管道纯粹是一个软件术语。 管道与设备上的终结点通信，并且该终结点具有地址。 管道的另一端始终是主机控制器。

通过选择配置和接口的备用设置来配置设备时，将打开终结点的管道。 因此，它们成为 i/o 操作的目标。 管道包含终结点的所有属性，但它处于活动状态，可用于与主机进行通信。

配置的终结点称为管道时，未配置的终结点称为 "终结点"。

![usb 管道和终结点](images/endpoints.png)

## <a name="related-topics"></a>相关主题
[适用于所有 USB 开发人员的概念](usb-concepts-for-all-developers.md)  



