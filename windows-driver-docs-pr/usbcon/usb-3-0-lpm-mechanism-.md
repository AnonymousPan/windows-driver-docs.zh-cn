---
description: 本主题介绍了 USB 3.0 LPM 机制。有一个适用于官方 USB 2.0 规范的附录 (USB2_LinkPowerMangement_ECN) ，该规范定义了用于更新的 USB 2.0 硬件的 LPM。
title: USB 3.0 LPM 机制
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 6923ac6cc98684f47cedcf507351589579e07635
ms.sourcegitcommit: 15caaf6d943135efcaf9975927ff3933957acd5d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/27/2020
ms.locfileid: "88968754"
---
# <a name="usb-30-lpm-mechanism"></a>USB 3.0 LPM 机制


本主题介绍了 USB 3.0 LPM 机制。

官方 [usb 2.0 规范](https://go.microsoft.com/fwlink/p/?linkid=230961) 的附录有 (USB2 \_ LinkPowerMangement \_ ECN) ，它定义了适用于较新的 USB 2.0 硬件的 LPM。 本主题不介绍 USB 2.0 LPM 机制。 本主题的目的是介绍 USB 3.0 LPM 状态，特别是 U1 和 U2。

USB 3.0 设备还支持选择性挂起。 为了克服选择性挂起的限制，官方 USB 3.0 规范定义了更精细的电源管理状态。 在描述这些状态以及如何使用它们来改善电源管理之前，让我们先了解一下链接的概念。

## <a name="what-is-a-link"></a>什么是链接


两个 USB 端口之间存在 USB 连接：

-   下游端口 (主机或集线器的 DS 端口) 。
-   上游端口 (连接的设备或集线器的 "US 端口") 。

*链接*是一对 DS 和 US 端口;端口称为链接伙伴。 每个端口都有两层。 物理层传输或接收字节序列或其他控制信号。 逻辑层管理物理层，并确保链接伙伴之间的信息流平滑。 逻辑层还负责信息流可能需要的任何缓冲。

## <a name="u-states"></a>U 状态


根据 USB 2.0 规范，链接进入低功耗状态， (消耗的电量低于工作状态时，仅当下游设备通过选择性挂起机制进入挂起状态时才) 。 USB 3.0 规范将链路电源状态与设备电源状态相分离。 该规范定义了 LPM 功能 (参见规范中的第) 部分，这是指一对组成链接的一对端口的物理层和逻辑层的电源管理。 该规范定义四个称为 U 状态的链接电源状态，从 U0 到 U3。 活动链接处于 "U0" 状态。

在闲置一段时间后，链接伙伴会按下快速退出) ，然后使用 fast exit () 备用 (备用，使 在空闲了足够的时间之后，软件会通过将命令发送到 DS 端口链接伙伴来启动到 U3 的转换。

用于将链接发送到 U3 的软件所需的步骤与 USB 2.0 选择性挂起所需的步骤相同。 当链接进入 U3 时，设备必须进入 "挂起" 状态。 因此，设备受到与 USB 2.0 选择性挂起相同的限制。 为了克服这些限制，USB 3.0 规范定义了 U1 和 U2 状态。

## <a name="advantages-of-u1-and-u2"></a>U1 和 U2 的优点


U1 和 U2 状态旨在补充选择性挂起，这可能会导致显著的节能。 在软件为 U1 或 U2 转换配置链接伙伴后，硬件会自行进入状态，而无需任何软件介入。 从 U1 和 U2 的退出时间非常快地 (从微秒到几毫秒) 并且对设备性能的影响较小。 这样，即使在设备使用时，链接也可以进入和退出这些状态。

例如，使用同步终结点的设备可以在服务间隔之间放置 U1 或 U2 的链接。 若要节省一些电力，当设备空闲时，它可以将其上游链接发送到这些状态，即使在调用选择性挂起之前也是如此。 当链接在 U1 或 U2 中时，设备可以消耗多少电量。 当链接位于 U1 或 U2 时，设备可以保持完全供电。 因此，与选择性挂起不同，设备可以将其链接发送到 U1 或 U2，而不会丢失任何功能。

 

 




